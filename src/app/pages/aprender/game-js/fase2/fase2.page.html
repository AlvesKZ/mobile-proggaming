<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      <div class="shine-text">
        <span class="title-main">PROGGAMING</span>
        <span class="title-sub">- Fase 2 JavaScript</span>
      </div>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="fase2-root">

    <div class="navbar">
      <button (click)="mostrarTela('bloco-teoria')" class="nav-btn" aria-label="Ver teoria">
        <span>Teoria</span>
      </button>
      <button (click)="mostrarTela('resultado')" class="nav-btn" aria-label="Ver resultado">
        <span>Resultado</span>
      </button>
      <button (click)="mostrarTela('editor-container')" class="nav-btn" aria-label="Ver editor">
        <span>Editor</span>
      </button>
    </div>

    <div class="progresso">
      <div class="barra" id="barra-progresso"></div>
    </div>

    <div class="container-nivel">
      <div class="bloco-teoria">
        <div class="teoria-header">
          <h3>Teoria - Fase 2</h3>
          <button class="botao-som" id="botao-som" (click)="toggleSom()" aria-label="Controle de som">üîä</button>
        </div>

        <p id="texto-teoria"></p>
        <div id="extra-teoria" class="extra-teoria"></div>
        <button
          id="btn-extra-exemplo"
          class="btn-exemplo"
          style="display: none;"
          (click)="toggleExemplo()">
          Exibir exemplo
        </button>

        <h2 id="titulo-nivel">N√≠vel 1/5</h2>
        <p id="descricao-nivel">
          Nesta fase voc√™ vai criar vari√°veis, trabalhar com tipos de dados e montar frases usando
          concatena√ß√£o e template literals.
        </p>

        <hr>

        <div class="xp-container">
          <span id="xp-total" class="xp-total">XP: 0</span>
        </div>

        <button class="btn-voltar" (click)="voltarParaSelecao()">
          <span>Voltar √†s fases</span>
        </button>
      </div>

      <div class="resultado" id="preview">A visualiza√ß√£o aparecer√° aqui.</div>

      <div class="editor-container">
        <div class="editor-header">
          <span class="dot red"></span>
          <span class="dot yellow"></span>
          <span class="dot green"></span>
          <span class="editor-title">index.js</span>
        </div>
        <textarea
          id="entrada-codigo"
          class="code-editor"
          spellcheck="false"
          placeholder="Digite o c√≥digo JavaScript aqui..."
          (input)="onCodigoChange()">
        </textarea>
        <button class="btn-testar" (click)="verificarNivel()" [disabled]="botaoDesabilitado">
          Testar C√≥digo
        </button>
      </div>

      <div class="conclusao-fase" *ngIf="faseConcluida">
        <h2>Parab√©ns!</h2>
        <p>{{ mensagemConclusao }}</p>
        <button class="btn-concluir" (click)="concluirFase2JS()">Concluir a fase</button>
      </div>
    </div>

    <audio id="audio-sucesso" src="/assets/audio/acerto.mp3"></audio>
  </div>
</ion-content>
